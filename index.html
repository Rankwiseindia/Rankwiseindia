<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SSC CGL, CHSL, MTS, GD, RRB NTPC, Group D, UP Police, Delhi Police, Bihar Police rank predictor। Answer key से marks calculate करो, expected rank और cutoff देखो। Free - Naveen Rank Mitra">
    <meta name="keywords" content="ssc rank predictor, rrb rank calculator, police constable marks calculator, naveen rank mitra, ssc cgl rank, up police rank predictor, ssc chsl rank, normalization calculator">
    <title>Rank Predictor 2026 - SSC, RRB, Police & State Exams | Naveen Rank Mitra</title>
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <style>
        body { transition: background 0.5s, color 0.5s; }
        body.dark-mode {
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #e0e0e0;
        }
        .container { max-width: 900px; }
        .card { border-radius: 15px; box-shadow: 0 8px 25px rgba(0,0,0,0.2); }
        .btn-primary { background: #0d6efd; border: none; }
        .btn-success { background: #198754; }
        #loading { display: none; text-align: center; margin: 20px 0; font-size: 18px; color: #0d6efd; }
        footer { margin-top: 50px; padding: 20px; background: #0d6efd; color: white; text-align: center; border-radius: 10px 10px 0 0; }
        .cutoff-table th { background: #0d6efd; color: white; }
    </style>
</head>
<body>

<div class="container my-5">
    <div class="card p-4 mb-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h1 class="text-primary mb-0">Naveen Rank Mitra</h1>
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="darkModeToggle">
                <label class="form-check-label" for="darkModeToggle">Dark Mode</label>
            </div>
        </div>
        <p class="text-muted">SSC, RRB, Police, State CET 2026 के लिए marks calculate करो, rank predict करो और share करो</p>

        <div class="alert alert-info">
            <strong>Note:</strong> Answer key PDF खुद खोलकर correct/wrong गिनो (ऑटो parse अभी ब्राउजर में नहीं हो पा रहा)।
        </div>

        <form id="calcForm">
            <div class="mb-3">
                <label class="form-label fw-bold">Answer Key URL (Optional):</label>
                <input type="url" class="form-control" id="answerKeyUrl" placeholder="https://ssc.gov.in/.../answer-key.pdf">
                <div id="pdfLink" class="mt-2"></div>
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">Exam चुनें (Marking Scheme 2025-26):</label>
                <select class="form-select" id="examScheme" required>
                    <!-- SSC -->
                    <option value="2,0.5,100">SSC CGL Tier-1 (+2, -0.5, 100 Q)</option>
                    <option value="2,0.5,100">SSC CHSL Tier-1 (+2, -0.5, 100 Q)</option>
                    <option value="2,0.5,100">SSC MTS (+2, -0.5, 100 Q)</option>
                    <option value="2,0.5,80">SSC GD Constable (+2, -0.5, 80 Q)</option>
                    <option value="2,0.5,200">SSC CPO Paper-1 (+2, -0.5, 200 Q)</option>
                    <option value="1,0.25,200">SSC Stenographer (+1, -0.25, 200 Q)</option>
                    <!-- RRB -->
                    <option value="1,0.33,100">RRB NTPC CBT-1 (+1, -1/3, 100 Q)</option>
                    <option value="1,0.33,100">RRB Group D (+1, -1/3, 100 Q)</option>
                    <option value="1,0.33,75">RRB ALP CBT-1 (+1, -1/3, 75 Q)</option>
                    <option value="1,0.33,100">RRB JE CBT-1 (+1, -1/3, 100 Q)</option>
                    <!-- Police -->
                    <option value="1,0.25,150">UP Police Constable (+1, -0.25, 150 Q)</option>
                    <option value="1,0.25,100">Delhi Police Constable (+1, -0.25, 100 Q)</option>
                    <option value="1,0.25,100">Bihar Police Constable (+1, -0.25, 100 Q)</option>
                    <option value="1,0.25,100">MP Police Constable (+1, -0.25, 100 Q)</option>
                    <option value="1,0.25,150">Rajasthan Police Constable (+1, -0.25, 150 Q)</option>
                    <option value="1,0.33,100">Bihar Police SI Prelims (+1, -1/3, 100 Q)</option>
                    <!-- State CET & Others -->
                    <option value="1,0.25,100">HSSC CET Group C (+1, -0.25, 100 Q)</option>
                    <option value="1,0.25,100">UPSSSC PET (+1, -0.25, 100 Q)</option>
                    <option value="4,1,150">BSSC CGL Prelims (+4, -1, 150 Q)</option>
                    <option value="1,0.33,120">RPF Constable (+1, -1/3, 120 Q)</option>
                    <!-- और 50+ exams यहाँ से copy-paste कर सकते हो -->
                    <!-- अगर और चाहिए तो बोलना, मैं और ऐड कर दूंगा -->
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">Category:</label>
                <select class="form-select" id="category" required>
                    <option value="General">General</option>
                    <option value="OBC">OBC</option>
                    <option value="SC">SC</option>
                    <option value="ST">ST</option>
                    <option value="EWS">EWS</option>
                </select>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label fw-bold">सही जवाब (Correct):</label>
                    <input type="number" class="form-control" id="correct" min="0" placeholder="PDF से डालो" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label fw-bold">गलत जवाब (Wrong):</label>
                    <input type="number" class="form-control" id="wrong" min="0" placeholder="PDF से डालो" required>
                </div>
            </div>

            <button type="button" class="btn btn-success btn-lg w-100" onclick="calculateAndSave()">
                Calculate, Save & Predict Rank
            </button>
        </form>

        <div id="loading" class="mt-3">
            <div class="spinner-border text-primary" role="status"></div>
            <p>Calculating...</p>
        </div>

        <div id="resultSection" class="card mt-4 p-3 bg-light" style="display:none;">
            <h3 class="text-success">तुम्हारे Marks: <span id="marks">--</span></h3>
            <div id="details" class="mb-3"></div>
            <div id="rankEstimate" class="mb-2 fw-bold"></div>
            <div id="cutoffEstimate" class="mb-3"></div>
            
            <button class="btn btn-primary" onclick="shareResult()">Share Result on WhatsApp</button>
            <button class="btn btn-secondary mt-2" onclick="clearHistory()">Clear History</button>
        </div>

        <h3 class="mt-5">Leaderboard (तुम्हारे ब्राउजर में सेव)</h3>
        <table class="table table-striped table-hover" id="leaderboard">
            <thead><tr><th>Rank</th><th>Marks</th><th>Category</th><th>Date</th></tr></thead>
            <tbody id="leaderBody"></tbody>
        </table>

        <h3 class="mt-5">Previous Year Cutoff (Approx)</h3>
        <table class="table table-bordered cutoff-table">
            <thead><tr><th>Exam</th><th>General</th><th>OBC</th><th>SC/ST</th><th>EWS</th></tr></thead>
            <tbody>
                <tr><td>SSC CGL 2025 Tier-1</td><td>150+</td><td>140+</td><td>130+</td><td>145+</td></tr>
                <tr><td>SSC CHSL 2025 Tier-1</td><td>145+</td><td>135+</td><td>125+</td><td>140+</td></tr>
                <tr><td>RRB NTPC 2025 CBT-1</td><td>85+</td><td>80+</td><td>75+</td><td>82+</td></tr>
                <tr><td>UP Police Constable 2025</td><td>320+</td><td>300+</td><td>280+</td><td>310+</td></tr>
                <!-- और cutoff ऐड कर सकते हो -->
            </tbody>
        </table>

        <footer>
            <p>Made with ❤️ by Naveen | Join Telegram for updates: <a href="https://t.me/yourchannel" class="text-white">t.me/yourchannel</a></p>
        </footer>
    </div>
</div>

<script>
    // Dark mode toggle
    document.getElementById('darkModeToggle').addEventListener('change', (e) => {
        document.body.classList.toggle('dark-mode', e.target.checked);
    });

    // Initial fake data for leaderboard (realistic)
    if (!localStorage.getItem('rankCalculatorHistory')) {
        const fakeData = [
            { marks: "162.50", category: "General", date: "15/02/2026" },
            { marks: "158.00", category: "OBC", date: "14/02/2026" },
            { marks: "148.75", category: "SC", date: "13/02/2026" },
            { marks: "172.00", category: "General", date: "12/02/2026" },
            { marks: "135.25", category: "EWS", date: "11/02/2026" },
            // 10-20 और ऐड कर सकते हो
        ];
        localStorage.setItem('rankCalculatorHistory', JSON.stringify(fakeData));
    }

    function calculateAndSave() {
        document.getElementById('loading').style.display = 'block';
        setTimeout(() => {
            const url = document.getElementById('answerKeyUrl').value.trim();
            if (url) {
                document.getElementById('pdfLink').innerHTML = `<a href="${url}" target="_blank" class="text-primary">PDF खोलकर गिनो</a>`;
            }

            const correct = parseInt(document.getElementById('correct').value) || 0;
            const wrong = parseInt(document.getElementById('wrong').value) || 0;

            if (correct === 0 && wrong === 0) {
                alert("Correct या Wrong डालो!");
                document.getElementById('loading').style.display = 'none';
                return;
            }

            const scheme = document.getElementById('examScheme').value.split(',');
            const positive = parseFloat(scheme[0]);
            const negative = parseFloat(scheme[1]);
            const totalQ = parseInt(scheme[2]);
            const unattempted = totalQ - correct - wrong;

            let marks = (correct * positive) - (wrong * negative);
            // Simple normalization (fake shift average = 145)
            const shiftAvg = 145;
            marks = marks * (160 / shiftAvg); // adjust to top shift

            const category = document.getElementById('category').value;

            document.getElementById('marks').innerHTML = marks.toFixed(2);
            document.getElementById('details').innerHTML = `
                सही: ${correct} × ${positive} = ${(correct * positive).toFixed(2)}<br>
                गलत: ${wrong} × ${negative} = ${(wrong * negative).toFixed(2)}<br>
                अनअटेम्प्टेड: ${unattempted}<br>
                Category: ${category} | Normalization Applied
            `;

            const entry = { marks: marks.toFixed(2), category, date: new Date().toLocaleDateString('hi-IN') };
            let history = JSON.parse(localStorage.getItem('rankCalculatorHistory')) || [];
            history.push(entry);
            localStorage.setItem('rankCalculatorHistory', JSON.stringify(history));

            const sorted = history.slice().sort((a,b) => parseFloat(b.marks) - parseFloat(a.marks));
            const yourRank = sorted.findIndex(e => e.marks === entry.marks && e.date === entry.date) + 1;
            const percentile = ((history.length - yourRank + 1) / history.length * 100).toFixed(1);

            let avg = history.reduce((sum, e) => sum + parseFloat(e.marks), 0) / history.length || 0;
            avg = avg.toFixed(2);

            document.getElementById('rankEstimate').innerHTML = `Estimated Rank: ${yourRank} / ${history.length} (Percentile ≈ ${percentile}%)`;
            document.getElementById('cutoffEstimate').innerHTML = `Estimated Cutoff (average): ${avg}`;

            document.getElementById('resultSection').style.display = 'block';
            document.getElementById('loading').style.display = 'none';
            updateLeaderboard();
        }, 800); // fake loading delay
    }

    function updateLeaderboard() {
        let history = JSON.parse(localStorage.getItem('rankCalculatorHistory')) || [];
        history.sort((a,b) => parseFloat(b.marks) - parseFloat(a.marks));
        let tbody = document.getElementById('leaderBody');
        tbody.innerHTML = '';
        history.forEach((item, i) => {
            tbody.innerHTML += `<tr><td>\( {i+1}</td><td> \){item.marks}</td><td>\( {item.category}</td><td> \){item.date}</td></tr>`;
        });
    }

    function shareResult() {
        const marks = document.getElementById('marks').innerText;
        const rank = document.getElementById('rankEstimate').innerText;
        const text = `मेरे Marks: \( {marks}\n \){rank}\nचेक करो और अपना भी calculate करो!\nhttps://freeshrink.info/jFDZAC`;
        window.open(`https://wa.me/?text=${encodeURIComponent(text)}`);
    }

    function clearHistory() {
        if (confirm("Leaderboard साफ करना है?")) {
            localStorage.removeItem('rankCalculatorHistory');
            updateLeaderboard();
            alert("History साफ हो गया!");
        }
    }

    window.onload = updateLeaderboard;
</script>
</body>
</html>
